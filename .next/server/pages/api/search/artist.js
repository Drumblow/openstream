"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search/artist";
exports.ids = ["pages/api/search/artist"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch%2Fartist&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Csearch%5Cartist.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch%2Fartist&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Csearch%5Cartist.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\search\\artist.ts */ \"(api)/./src/pages/api/search/artist.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search/artist\",\n        pathname: \"/api/search/artist\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_search_artist_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlYXJjaCUyRmFydGlzdCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDc2VhcmNoJTVDYXJ0aXN0LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2lFO0FBQ2pFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsNERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3BlbnN0cmVhbS1tdXNpYy1wbGF5ZXIvPzA4NzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcc2VhcmNoXFxcXGFydGlzdC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlYXJjaC9hcnRpc3RcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZWFyY2gvYXJ0aXN0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch%2Fartist&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Csearch%5Cartist.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/search/artist.ts":
/*!****************************************!*\
  !*** ./src/pages/api/search/artist.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst ARCHIVE_API_URL = \"https://archive.org/advancedsearch.php\";\nconst CACHE_TTL = 3600000 // 1 hora\n;\n// Cache em memória (considere usar Redis em produção)\nconst cache = new Map();\nfunction normalizeTitle(title) {\n    return title.toLowerCase().replace(/[^\\w\\s-]/g, \"\").replace(/\\s*\\([^)]*\\)/g, \"\").replace(/_\\d+$/, \"\").replace(/\\b(disc |cd |vol\\.|volume |parte |pt\\.|remix|remaster)\\s*\\d*\\b/gi, \"\").trim().replace(/\\s+/g, \" \");\n}\nfunction isSameAlbum(title1, title2) {\n    const norm1 = normalizeTitle(title1);\n    const norm2 = normalizeTitle(title2);\n    return norm1 === norm2 || norm1.includes(norm2) || norm2.includes(norm1);\n}\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { query } = req.query;\n        if (!query || typeof query !== \"string\") {\n            return res.status(400).json({\n                error: \"Invalid query parameter\"\n            });\n        }\n        const decodedQuery = decodeURIComponent(query).trim();\n        const cacheKey = `artist:${decodedQuery}`;\n        // Check cache\n        const cachedItem = cache.get(cacheKey);\n        if (cachedItem && Date.now() - cachedItem.timestamp < CACHE_TTL) {\n            return res.json(cachedItem.data);\n        }\n        const searchTerms = decodedQuery.split(/\\s+/).filter((term)=>term.length > 1);\n        const normalizedQuery = searchTerms.join(\" \");\n        const searchQuery = `mediatype:(audio) AND (\r\n      title:\"${normalizedQuery}\" OR \r\n      creator:\"${normalizedQuery}\" OR \r\n      (${searchTerms.map((term)=>`title:\"${term}\"`).join(\" AND \")}) OR\r\n      (${searchTerms.map((term)=>`creator:\"${term}\"`).join(\" AND \")})\r\n    ) AND format:(MP3) AND -collection:podcasts AND -title:cover`;\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(ARCHIVE_API_URL, {\n            params: {\n                q: searchQuery,\n                fl: [\n                    \"identifier\",\n                    \"title\",\n                    \"creator\",\n                    \"year\",\n                    \"format\",\n                    \"collection\"\n                ],\n                sort: [\n                    \"downloads desc\",\n                    \"year desc\"\n                ],\n                output: \"json\",\n                rows: \"100\"\n            }\n        });\n        // Process results with scoring\n        if (response.data?.response?.docs) {\n            const searchTermsLower = searchTerms.map((term)=>term.toLowerCase());\n            const groupedByTitle = new Map();\n            response.data.response.docs.forEach((doc)=>{\n                const title = Array.isArray(doc.title) ? doc.title[0] : doc.title;\n                const creator = Array.isArray(doc.creator) ? doc.creator[0] : doc.creator;\n                const normalizedTitle = normalizeTitle(title);\n                let score = 0;\n                const titleLower = title?.toLowerCase() || \"\";\n                const creatorLower = creator?.toLowerCase() || \"\";\n                if (titleLower.includes(decodedQuery.toLowerCase())) score += 10;\n                if (creatorLower.includes(decodedQuery.toLowerCase())) score += 10;\n                if (creator === \"Album\") score -= 5;\n                searchTermsLower.forEach((term)=>{\n                    if (titleLower.includes(term)) score += 3;\n                    if (creatorLower.includes(term)) score += 3;\n                });\n                const scoredDoc = {\n                    ...doc,\n                    _score: score\n                };\n                const existing = Array.from(groupedByTitle.values()).flat();\n                const similarGroup = existing.find((g)=>isSameAlbum(g.title, title));\n                if (similarGroup) {\n                    const groupKey = normalizeTitle(similarGroup.title);\n                    const group = groupedByTitle.get(groupKey) || [];\n                    group.push(scoredDoc);\n                    groupedByTitle.set(groupKey, group);\n                } else {\n                    groupedByTitle.set(normalizedTitle, [\n                        scoredDoc\n                    ]);\n                }\n            });\n            response.data.response.docs = Array.from(groupedByTitle.values()).map((group)=>group.reduce((best, current)=>current._score > best._score ? current : best)).filter((doc)=>doc._score > 0).sort((a, b)=>b._score - a._score).slice(0, 50);\n        }\n        // Cache results\n        cache.set(cacheKey, {\n            data: response.data,\n            timestamp: Date.now()\n        });\n        res.json(response.data);\n    } catch (error) {\n        console.error(\"Search error:\", error);\n        res.status(500).json({\n            error: \"Search failed\",\n            details: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3NlYXJjaC9hcnRpc3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDeUI7QUFFekIsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLFlBQVksUUFBUSxTQUFTOztBQUVuQyxzREFBc0Q7QUFDdEQsTUFBTUMsUUFBUSxJQUFJQztBQUVsQixTQUFTQyxlQUFlQyxLQUFhO0lBQ25DLE9BQU9BLE1BQ0pDLFdBQVcsR0FDWEMsT0FBTyxDQUFDLGFBQWEsSUFDckJBLE9BQU8sQ0FBQyxpQkFBaUIsSUFDekJBLE9BQU8sQ0FBQyxTQUFTLElBQ2pCQSxPQUFPLENBQUMsb0VBQW9FLElBQzVFQyxJQUFJLEdBQ0pELE9BQU8sQ0FBQyxRQUFRO0FBQ3JCO0FBRUEsU0FBU0UsWUFBWUMsTUFBYyxFQUFFQyxNQUFjO0lBQ2pELE1BQU1DLFFBQVFSLGVBQWVNO0lBQzdCLE1BQU1HLFFBQVFULGVBQWVPO0lBQzdCLE9BQU9DLFVBQVVDLFNBQVNELE1BQU1FLFFBQVEsQ0FBQ0QsVUFBVUEsTUFBTUMsUUFBUSxDQUFDRjtBQUNwRTtBQUVlLGVBQWVHLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsSUFBSTtRQUNGLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdOLElBQUlNLEtBQUs7UUFFM0IsSUFBSSxDQUFDQSxTQUFTLE9BQU9BLFVBQVUsVUFBVTtZQUN2QyxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTBCO1FBQ2pFO1FBRUEsTUFBTUUsZUFBZUMsbUJBQW1CRixPQUFPZCxJQUFJO1FBQ25ELE1BQU1pQixXQUFXLENBQUMsT0FBTyxFQUFFRixhQUFhLENBQUM7UUFFekMsY0FBYztRQUNkLE1BQU1HLGFBQWF4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Q0gsVUFBVUM7Z0JBQy9CLE9BQU87b0JBQ0xwQixlQUFlc0IsR0FBRyxDQUFDaEIsaUJBQWlCO3dCQUFDSTtxQkFBVTtnQkFDakQ7WUFDRjtZQUVBbkIsU0FBU1YsSUFBSSxDQUFDVSxRQUFRLENBQUNPLElBQUksR0FBR0ssTUFBTVUsSUFBSSxDQUFDYixlQUFlYyxNQUFNLElBQzNEeEIsR0FBRyxDQUFDOEIsQ0FBQUEsUUFBU0EsTUFBTUcsTUFBTSxDQUFDLENBQUNDLE1BQU1DLFVBQ2hDQSxRQUFRZCxNQUFNLEdBQUdhLEtBQUtiLE1BQU0sR0FBR2MsVUFBVUQsT0FFMUN4QyxNQUFNLENBQUNrQixDQUFBQSxNQUFPQSxJQUFJUyxNQUFNLEdBQUcsR0FDM0JoQixJQUFJLENBQUMsQ0FBQytCLEdBQUdDLElBQU1BLEVBQUVoQixNQUFNLEdBQUdlLEVBQUVmLE1BQU0sRUFDbENpQixLQUFLLENBQUMsR0FBRztRQUNkO1FBRUEsZ0JBQWdCO1FBQ2hCNUUsTUFBTXNFLEdBQUcsQ0FBQy9DLFVBQVU7WUFDbEJNLE1BQU1VLFNBQVNWLElBQUk7WUFDbkJELFdBQVdGLEtBQUtDLEdBQUc7UUFDckI7UUFFQVosSUFBSUcsSUFBSSxDQUFDcUIsU0FBU1YsSUFBSTtJQUN4QixFQUFFLE9BQU9WLE9BQVk7UUFDbkIwRCxRQUFRMUQsS0FBSyxDQUFDLGlCQUFpQkE7UUFDL0JKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLE9BQU87WUFDUDJELFNBQVMzRCxNQUFNNEQsT0FBTztRQUN4QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuc3RyZWFtLW11c2ljLXBsYXllci8uL3NyYy9wYWdlcy9hcGkvc2VhcmNoL2FydGlzdC50cz9jM2Q0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcclxuXHJcbmNvbnN0IEFSQ0hJVkVfQVBJX1VSTCA9ICdodHRwczovL2FyY2hpdmUub3JnL2FkdmFuY2Vkc2VhcmNoLnBocCdcclxuY29uc3QgQ0FDSEVfVFRMID0gMzYwMDAwMCAvLyAxIGhvcmFcclxuXHJcbi8vIENhY2hlIGVtIG1lbcOzcmlhIChjb25zaWRlcmUgdXNhciBSZWRpcyBlbSBwcm9kdcOnw6NvKVxyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueTsgdGltZXN0YW1wOiBudW1iZXIgfT4oKVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplVGl0bGUodGl0bGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHRpdGxlXHJcbiAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgLnJlcGxhY2UoL1teXFx3XFxzLV0vZywgJycpXHJcbiAgICAucmVwbGFjZSgvXFxzKlxcKFteKV0qXFwpL2csICcnKVxyXG4gICAgLnJlcGxhY2UoL19cXGQrJC8sICcnKVxyXG4gICAgLnJlcGxhY2UoL1xcYihkaXNjIHxjZCB8dm9sXFwufHZvbHVtZSB8cGFydGUgfHB0XFwufHJlbWl4fHJlbWFzdGVyKVxccypcXGQqXFxiL2dpLCAnJylcclxuICAgIC50cmltKClcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxufVxyXG5cclxuZnVuY3Rpb24gaXNTYW1lQWxidW0odGl0bGUxOiBzdHJpbmcsIHRpdGxlMjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3Qgbm9ybTEgPSBub3JtYWxpemVUaXRsZSh0aXRsZTEpXHJcbiAgY29uc3Qgbm9ybTIgPSBub3JtYWxpemVUaXRsZSh0aXRsZTIpXHJcbiAgcmV0dXJuIG5vcm0xID09PSBub3JtMiB8fCBub3JtMS5pbmNsdWRlcyhub3JtMikgfHwgbm9ybTIuaW5jbHVkZXMobm9ybTEpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcXVlcnkgfSA9IHJlcS5xdWVyeVxyXG4gICAgXHJcbiAgICBpZiAoIXF1ZXJ5IHx8IHR5cGVvZiBxdWVyeSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHF1ZXJ5IHBhcmFtZXRlcicgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWNvZGVkUXVlcnkgPSBkZWNvZGVVUklDb21wb25lbnQocXVlcnkpLnRyaW0oKVxyXG4gICAgY29uc3QgY2FjaGVLZXkgPSBgYXJ0aXN0OiR7ZGVjb2RlZFF1ZXJ5fWBcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgY2FjaGVcclxuICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBjYWNoZS5nZXQoY2FjaGVLZXkpXHJcbiAgICBpZiAoY2FjaGVkSXRlbSAmJiBEYXRlLm5vdygpIC0gY2FjaGVkSXRlbS50aW1lc3RhbXAgPCBDQUNIRV9UVEwpIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNhY2hlZEl0ZW0uZGF0YSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZWFyY2hUZXJtcyA9IGRlY29kZWRRdWVyeS5zcGxpdCgvXFxzKy8pLmZpbHRlcih0ZXJtID0+IHRlcm0ubGVuZ3RoID4gMSlcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWVyeSA9IHNlYXJjaFRlcm1zLmpvaW4oJyAnKVxyXG4gICAgXHJcbiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGBtZWRpYXR5cGU6KGF1ZGlvKSBBTkQgKFxyXG4gICAgICB0aXRsZTpcIiR7bm9ybWFsaXplZFF1ZXJ5fVwiIE9SIFxyXG4gICAgICBjcmVhdG9yOlwiJHtub3JtYWxpemVkUXVlcnl9XCIgT1IgXHJcbiAgICAgICgke3NlYXJjaFRlcm1zLm1hcCh0ZXJtID0+IGB0aXRsZTpcIiR7dGVybX1cImApLmpvaW4oJyBBTkQgJyl9KSBPUlxyXG4gICAgICAoJHtzZWFyY2hUZXJtcy5tYXAodGVybSA9PiBgY3JlYXRvcjpcIiR7dGVybX1cImApLmpvaW4oJyBBTkQgJyl9KVxyXG4gICAgKSBBTkQgZm9ybWF0OihNUDMpIEFORCAtY29sbGVjdGlvbjpwb2RjYXN0cyBBTkQgLXRpdGxlOmNvdmVyYFxyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KEFSQ0hJVkVfQVBJX1VSTCwge1xyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBxOiBzZWFyY2hRdWVyeSxcclxuICAgICAgICBmbDogWydpZGVudGlmaWVyJywgJ3RpdGxlJywgJ2NyZWF0b3InLCAneWVhcicsICdmb3JtYXQnLCAnY29sbGVjdGlvbiddLFxyXG4gICAgICAgIHNvcnQ6IFsnZG93bmxvYWRzIGRlc2MnLCAneWVhciBkZXNjJ10sXHJcbiAgICAgICAgb3V0cHV0OiAnanNvbicsXHJcbiAgICAgICAgcm93czogJzEwMCdcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBQcm9jZXNzIHJlc3VsdHMgd2l0aCBzY29yaW5nXHJcbiAgICBpZiAocmVzcG9uc2UuZGF0YT8ucmVzcG9uc2U/LmRvY3MpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoVGVybXNMb3dlciA9IHNlYXJjaFRlcm1zLm1hcCh0ZXJtID0+IHRlcm0udG9Mb3dlckNhc2UoKSlcclxuICAgICAgY29uc3QgZ3JvdXBlZEJ5VGl0bGUgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KClcclxuICAgICAgXHJcbiAgICAgIHJlc3BvbnNlLmRhdGEucmVzcG9uc2UuZG9jcy5mb3JFYWNoKChkb2M6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gQXJyYXkuaXNBcnJheShkb2MudGl0bGUpID8gZG9jLnRpdGxlWzBdIDogZG9jLnRpdGxlXHJcbiAgICAgICAgY29uc3QgY3JlYXRvciA9IEFycmF5LmlzQXJyYXkoZG9jLmNyZWF0b3IpID8gZG9jLmNyZWF0b3JbMF0gOiBkb2MuY3JlYXRvclxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUaXRsZSA9IG5vcm1hbGl6ZVRpdGxlKHRpdGxlKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzY29yZSA9IDBcclxuICAgICAgICBjb25zdCB0aXRsZUxvd2VyID0gdGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgJydcclxuICAgICAgICBjb25zdCBjcmVhdG9yTG93ZXIgPSBjcmVhdG9yPy50b0xvd2VyQ2FzZSgpIHx8ICcnXHJcblxyXG4gICAgICAgIGlmICh0aXRsZUxvd2VyLmluY2x1ZGVzKGRlY29kZWRRdWVyeS50b0xvd2VyQ2FzZSgpKSkgc2NvcmUgKz0gMTBcclxuICAgICAgICBpZiAoY3JlYXRvckxvd2VyLmluY2x1ZGVzKGRlY29kZWRRdWVyeS50b0xvd2VyQ2FzZSgpKSkgc2NvcmUgKz0gMTBcclxuICAgICAgICBpZiAoY3JlYXRvciA9PT0gJ0FsYnVtJykgc2NvcmUgLT0gNVxyXG5cclxuICAgICAgICBzZWFyY2hUZXJtc0xvd2VyLmZvckVhY2godGVybSA9PiB7XHJcbiAgICAgICAgICBpZiAodGl0bGVMb3dlci5pbmNsdWRlcyh0ZXJtKSkgc2NvcmUgKz0gM1xyXG4gICAgICAgICAgaWYgKGNyZWF0b3JMb3dlci5pbmNsdWRlcyh0ZXJtKSkgc2NvcmUgKz0gM1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHNjb3JlZERvYyA9IHtcclxuICAgICAgICAgIC4uLmRvYyxcclxuICAgICAgICAgIF9zY29yZTogc2NvcmVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gQXJyYXkuZnJvbShncm91cGVkQnlUaXRsZS52YWx1ZXMoKSkuZmxhdCgpXHJcbiAgICAgICAgY29uc3Qgc2ltaWxhckdyb3VwID0gZXhpc3RpbmcuZmluZChnID0+IGlzU2FtZUFsYnVtKGcudGl0bGUsIHRpdGxlKSlcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc2ltaWxhckdyb3VwKSB7XHJcbiAgICAgICAgICBjb25zdCBncm91cEtleSA9IG5vcm1hbGl6ZVRpdGxlKHNpbWlsYXJHcm91cC50aXRsZSlcclxuICAgICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBlZEJ5VGl0bGUuZ2V0KGdyb3VwS2V5KSB8fCBbXVxyXG4gICAgICAgICAgZ3JvdXAucHVzaChzY29yZWREb2MpXHJcbiAgICAgICAgICBncm91cGVkQnlUaXRsZS5zZXQoZ3JvdXBLZXksIGdyb3VwKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBncm91cGVkQnlUaXRsZS5zZXQobm9ybWFsaXplZFRpdGxlLCBbc2NvcmVkRG9jXSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICByZXNwb25zZS5kYXRhLnJlc3BvbnNlLmRvY3MgPSBBcnJheS5mcm9tKGdyb3VwZWRCeVRpdGxlLnZhbHVlcygpKVxyXG4gICAgICAgIC5tYXAoZ3JvdXAgPT4gZ3JvdXAucmVkdWNlKChiZXN0LCBjdXJyZW50KSA9PiBcclxuICAgICAgICAgIGN1cnJlbnQuX3Njb3JlID4gYmVzdC5fc2NvcmUgPyBjdXJyZW50IDogYmVzdFxyXG4gICAgICAgICkpXHJcbiAgICAgICAgLmZpbHRlcihkb2MgPT4gZG9jLl9zY29yZSA+IDApXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuX3Njb3JlIC0gYS5fc2NvcmUpXHJcbiAgICAgICAgLnNsaWNlKDAsIDUwKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhY2hlIHJlc3VsdHNcclxuICAgIGNhY2hlLnNldChjYWNoZUtleSwge1xyXG4gICAgICBkYXRhOiByZXNwb25zZS5kYXRhLFxyXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgIH0pXHJcblxyXG4gICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSlcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICBlcnJvcjogJ1NlYXJjaCBmYWlsZWQnLFxyXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIFxyXG4gICAgfSlcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiYXhpb3MiLCJBUkNISVZFX0FQSV9VUkwiLCJDQUNIRV9UVEwiLCJjYWNoZSIsIk1hcCIsIm5vcm1hbGl6ZVRpdGxlIiwidGl0bGUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ0cmltIiwiaXNTYW1lQWxidW0iLCJ0aXRsZTEiLCJ0aXRsZTIiLCJub3JtMSIsIm5vcm0yIiwiaW5jbHVkZXMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicXVlcnkiLCJkZWNvZGVkUXVlcnkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjYWNoZUtleSIsImNhY2hlZEl0ZW0iLCJnZXQiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiZGF0YSIsInNlYXJjaFRlcm1zIiwic3BsaXQiLCJmaWx0ZXIiLCJ0ZXJtIiwibGVuZ3RoIiwibm9ybWFsaXplZFF1ZXJ5Iiwiam9pbiIsInNlYXJjaFF1ZXJ5IiwibWFwIiwicmVzcG9uc2UiLCJwYXJhbXMiLCJxIiwiZmwiLCJzb3J0Iiwib3V0cHV0Iiwicm93cyIsImRvY3MiLCJzZWFyY2hUZXJtc0xvd2VyIiwiZ3JvdXBlZEJ5VGl0bGUiLCJmb3JFYWNoIiwiZG9jIiwiQXJyYXkiLCJpc0FycmF5IiwiY3JlYXRvciIsIm5vcm1hbGl6ZWRUaXRsZSIsInNjb3JlIiwidGl0bGVMb3dlciIsImNyZWF0b3JMb3dlciIsInNjb3JlZERvYyIsIl9zY29yZSIsImV4aXN0aW5nIiwiZnJvbSIsInZhbHVlcyIsImZsYXQiLCJzaW1pbGFyR3JvdXAiLCJmaW5kIiwiZyIsImdyb3VwS2V5IiwiZ3JvdXAiLCJwdXNoIiwic2V0IiwicmVkdWNlIiwiYmVzdCIsImN1cnJlbnQiLCJhIiwiYiIsInNsaWNlIiwiY29uc29sZSIsImRldGFpbHMiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/search/artist.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch%2Fartist&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Csearch%5Cartist.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();